@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* 主色 - 天蓝色系 */
  --primary: 205 85% 55%;
  --primary-foreground: 0 0% 100%;
  --primary-light: 200 85% 70%;
  --primary-dark: 210 85% 40%;
  
  /* 次要色 - 深蓝色 */
  --secondary: 220 70% 25%;
  --secondary-foreground: 0 0% 100%;
  
  /* 警告色 - 橙色 */
  --warning: 35 95% 55%;
  --warning-foreground: 0 0% 100%;
  --warning-light: 40 95% 65%;
  
  /* 危险色 - 红色 */
  --danger: 0 75% 55%;
  --danger-foreground: 0 0% 100%;
  
  /* 成功色 - 绿色 */
  --success: 145 65% 45%;
  --success-foreground: 0 0% 100%;
  
  /* 背景色 */
  --background: 215 30% 12%;
  --foreground: 210 20% 92%;
  
  /* 卡片色 */
  --card: 215 30% 16%;
  --card-foreground: 210 20% 92%;
  
  /* 边框色 */
  --border: 215 20% 25%;
  
  /* 输入框色 */
  --input: 215 25% 20%;
  
  /* 静音色 */
  --muted: 215 20% 30%;
  --muted-foreground: 215 15% 55%;
  
  /* 强调色 */
  --accent: 200 80% 60%;
  --accent-foreground: 0 0% 100%;
  
  /* 渐变色 */
  --gradient-primary: linear-gradient(135deg, hsl(205 85% 55%) 0%, hsl(220 70% 35%) 100%);
  --gradient-card: linear-gradient(145deg, hsl(215 30% 18%) 0%, hsl(215 30% 14%) 100%);
  --gradient-rain: linear-gradient(180deg, hsl(210 70% 45%) 0%, hsl(220 70% 30%) 100%);
  --gradient-sunny: linear-gradient(135deg, hsl(45 95% 60%) 0%, hsl(35 90% 50%) 100%);
  --gradient-warning: linear-gradient(135deg, hsl(35 95% 55%) 0%, hsl(25 90% 45%) 100%);
  
  /* 阴影 */
  --shadow-card: 0 4px 20px -5px hsl(215 50% 10% / 0.5);
  --shadow-card-hover: 0 8px 30px -5px hsl(215 50% 10% / 0.6);
  --shadow-glow: 0 0 30px hsl(205 85% 55% / 0.3);
  --shadow-glow-warning: 0 0 30px hsl(35 95% 55% / 0.4);
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }
}

@layer components {
  .card {
    @apply bg-card rounded-2xl p-6 shadow-card transition-all duration-300;
    background: var(--gradient-card);
  }
  
  .card:hover {
    @apply shadow-card-hover;
    transform: translateY(-2px);
  }
  
  .card-glow {
    @apply card;
    box-shadow: var(--shadow-card), var(--shadow-glow);
  }
  
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-5 py-2.5 font-medium transition-all duration-200;
  }
  
  .btn-primary {
    @apply btn bg-primary text-primary-foreground;
    background: var(--gradient-primary);
  }
  
  .btn-primary:hover {
    @apply opacity-90;
    transform: translateY(-1px);
    box-shadow: var(--shadow-glow);
  }
  
  .btn-secondary {
    @apply btn bg-secondary text-secondary-foreground border border-border;
  }
  
  .btn-secondary:hover {
    @apply bg-muted;
  }
  
  .btn-warning {
    @apply btn text-warning-foreground;
    background: var(--gradient-warning);
  }
  
  .btn-warning:hover {
    box-shadow: var(--shadow-glow-warning);
  }
  
  .btn-ghost {
    @apply btn text-foreground hover:bg-muted/50;
  }
  
  .input {
    @apply w-full rounded-xl bg-input border border-border px-4 py-3 text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all duration-200;
  }
  
  .label {
    @apply text-sm font-medium text-foreground/80 mb-2 block;
  }
  
  .badge {
    @apply inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-xs font-medium;
  }
  
  .badge-primary {
    @apply badge bg-primary/20 text-primary-light;
  }
  
  .badge-warning {
    @apply badge bg-warning/20 text-warning-light;
  }
  
  .badge-danger {
    @apply badge bg-danger/20 text-danger;
  }
  
  .badge-success {
    @apply badge bg-success/20 text-success;
  }
  
  /* 概率指示器 */
  .probability-ring {
    @apply relative w-32 h-32 rounded-full;
  }
  
  .probability-ring::before {
    content: '';
    @apply absolute inset-0 rounded-full;
    background: conic-gradient(
      hsl(var(--primary)) var(--progress, 0%),
      hsl(var(--border)) var(--progress, 0%)
    );
    mask: radial-gradient(transparent 55%, black 56%);
    -webkit-mask: radial-gradient(transparent 55%, black 56%);
  }
  
  /* 天气图标动画 */
  .weather-icon {
    @apply relative;
  }
  
  .rain-animation {
    @apply absolute inset-0 overflow-hidden;
  }
  
  .rain-drop {
    @apply absolute w-0.5 h-3 bg-primary-light rounded-full opacity-60;
    animation: rainDrop 1.5s ease-in-out infinite;
  }
  
  /* 数据源卡片 */
  .source-card {
    @apply card relative overflow-hidden;
  }
  
  .source-card::before {
    content: '';
    @apply absolute top-0 left-0 w-1 h-full;
    background: var(--gradient-primary);
  }
  
  /* 导航项 */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl text-muted-foreground transition-all duration-200;
  }
  
  .nav-item:hover {
    @apply bg-muted/30 text-foreground;
  }
  
  .nav-item.active {
    @apply bg-primary/15 text-primary-light;
  }
  
  /* 概率显示 */
  .probability-display {
    @apply text-5xl font-bold tabular-nums;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .probability-display.warning {
    background: var(--gradient-warning);
    -webkit-background-clip: text;
    background-clip: text;
  }
  
  .probability-display.danger {
    background: linear-gradient(135deg, hsl(var(--danger)) 0%, hsl(0 75% 40%) 100%);
    -webkit-background-clip: text;
    background-clip: text;
  }
  
  /* 滑块 */
  .slider {
    @apply w-full h-2 rounded-full bg-muted appearance-none cursor-pointer;
  }
  
  .slider::-webkit-slider-thumb {
    @apply appearance-none w-5 h-5 rounded-full bg-primary cursor-pointer;
    box-shadow: var(--shadow-glow);
  }
  
  /* Toast */
  .toast {
    @apply fixed bottom-6 right-6 z-50 flex items-center gap-3 px-5 py-4 rounded-2xl shadow-card-hover animate-slide-up;
    background: var(--gradient-card);
    border: 1px solid hsl(var(--border));
  }
  
  .toast-success {
    border-left: 3px solid hsl(var(--success));
  }
  
  .toast-warning {
    border-left: 3px solid hsl(var(--warning));
  }
  
  .toast-danger {
    border-left: 3px solid hsl(var(--danger));
  }
}

@layer utilities {
  .text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .glass {
    @apply backdrop-blur-xl bg-card/80;
  }
  
  .glow {
    box-shadow: var(--shadow-glow);
  }
  
  .glow-warning {
    box-shadow: var(--shadow-glow-warning);
  }
}

/* 滚动条样式 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--background));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground));
}
